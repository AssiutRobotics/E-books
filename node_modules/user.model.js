const { type } = require('express/lib/response');
const mongoose = require('mongoose');
const validator=require('validator');
const userSchema = new mongoose.Schema({
    first_name:{
        type:String,
        required:true
    },
    last_name:{
        type:String,
        required:true
    },
    email:{
        type:String,
        required:true,
        unique:true,
        validate:[validator.isEmail,'Filed must be a valid email']
        
    },
    password:{
        type:String,
        required:true,
        validate: {
            validator: function(value) {
                return /^(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/.test(value);
    },
     message: 'Password must be at least 8 characters long, contain one uppercase letter, one number, and one special character'
     }
    }
} );
module.exports=mongoose.model('User',userSchema);